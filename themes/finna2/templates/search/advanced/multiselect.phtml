<!-- START of: finna - search/advanced/multiselect.phtml -->
<div class="facet">
  <div class="solr-adv-filter <?=$this->escapeHtmlAttr(str_replace(' ', '', $this->field))?>-container">
    <fieldset>
      <label id="limit_<?=$this->escapeHtmlAttr(str_replace(' ', '', $this->field))?>"><?=$this->transEsc($this->list['label'])?>:</label>
      <select class="finna-multiselect init" data-placeholder="<?=$this->transEsc('search_placeholder')?>" data-label="<?= $this->transEsc('Add filter') . ' ' . $this->transEsc($this->list['label']) ?>" aria-labelledby="limit_<?=$this->escapeHtmlAttr(str_replace(' ', '', $this->field))?>" name="filter[]"  multiple="multiple">
        <?php if (is_array($this->hierarchicalFacets) && in_array($this->field, $this->hierarchicalFacets)): ?>
          <?php foreach ($this->list['list'] as $key => $value): ?>
            <?php
              $isParent = isset($value['opt_group_start']) && $value['opt_group_start'];
              $isChild = $value['level'] !== '0';
            ?>
            <option class="<?= $isParent ? 'option-parent' : ''; ?> <?= $isChild ? 'option-child child-width-' . $value['level'] : ''?>" data-level="<?=$value['level']?>" value="<?=$this->escapeHtmlAttr(($value['operator'] == 'OR' ? '~' : '') . $this->field . ':"' . $value['value'] . '"')?>"<?=(isset($value['selected']) && $value['selected'])?' selected="selected"':''?>><?=$this->escapeHtml($value['displayText'])?></option>
          <?php endforeach; ?>
        <?php else: ?>
          <?php foreach ($this->list['list'] as $value): ?>
            <option value="<?=$this->escapeHtmlAttr(($value['operator'] == 'OR' ? '~' : '') . $this->field . ':"' . $value['value'] . '"')?>"<?=(isset($value['selected']) && $value['selected'])?' selected="selected"':''?>><?=$this->escapeHtml($value['displayText'])?></option>
          <?php endforeach; ?>
        <?php endif; ?>
      </select>
    </fieldset>
  </div>
</div>
<!-- END of: finna - search/advanced/multiselect.phtml -->
